[
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "About this site"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "website",
    "section": "",
    "text": "This is a Quarto website.\nTo learn more about Quarto websites visit https://quarto.org/docs/websites."
  },
  {
    "objectID": "EDA.html",
    "href": "EDA.html",
    "title": "EDA",
    "section": "",
    "text": "Exploratory Data Analysis\n\n\nCode\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(corrplot)\nlibrary(GGally)\ndata &lt;- read.csv(\"data/raw-data/aids_clinical_trials_combined.csv\")\n\n\n\nStatistic Summary\n\n\nShow the code\n# Statistic Summary of the dataset\nsummary(data[, c(\"time\", \"age\", \"wtkg\")])\n\n\n      time             age             wtkg       \n Min.   :  14.0   Min.   :12.00   Min.   : 31.00  \n 1st Qu.: 727.0   1st Qu.:29.00   1st Qu.: 66.68  \n Median : 997.0   Median :34.00   Median : 74.39  \n Mean   : 879.1   Mean   :35.25   Mean   : 75.13  \n 3rd Qu.:1091.0   3rd Qu.:40.00   3rd Qu.: 82.56  \n Max.   :1231.0   Max.   :70.00   Max.   :159.94  \n\n\nFrom the statistic summary table, the average survival time is around 879.1 and the longest survival time is 1231 and the least survival time is 14. The age of patients range from 12 to 70 years old and the average age is 35.25. The average weight is range from 31 kg to 159.94 kg and the average weight is 75.13kg, and which more indicate that the patients are more linkely to be male.\n\n\nMissing Value Check\n\n\nShow the code\nmissing_values &lt;- colSums(is.na(data))\nprint(missing_values)\n\n\n   time     trt     age    wtkg    hemo    homo   drugs  karnof  oprior     z30 \n      0       0       0       0       0       0       0       0       0       0 \n zprior preanti    race  gender    str2   strat symptom   treat  offtrt    cd40 \n      0       0       0       0       0       0       0       0       0       0 \n  cd420    cd80   cd820     cid \n      0       0       0       0 \n\n\nThere’s no missing value for very column, so no data cleaning requirement needed.\n\n\nCorrelation Heatmap\n\n\nCode\nggcorr(data)+\n  ggtitle(\"Correlation Matrix\") +\n  theme(plot.title = element_text(hjust = 0.5, size = 16))\n\n\n\n\n\n\n\n\n\nThe correlation heatmap show the relationship between different features. The warmer color shows the positive correlated relationship and the coolor color shows the negative correlated relationship. We can see the variable cd820 (CD8 at 20+/-5 weeks) and cd80 (CD8 at baseline) are highly correlated, same does, cd420(CD4 at 20+/-5 weeks) and cd40(CD4 at baseline).\n\n\nTime Distribution by Censoring Indicator\n\n\nShow the code\nggplot(data, aes(x = time, fill = as.factor(cid))) +\n  geom_histogram(position = \"identity\", bins = 30, color = \"black\", alpha = 0.5) +\n  labs(\n    title = \"Time Distribution by Censoring Indicator\",\n    x = \"Survival Time\",\n    y = \"Count\",\n    fill = \"CID Indicator\"\n  ) +\n  scale_fill_manual(values = c(\"skyblue\", \"orange\"), labels = c(\"Censored (0)\", \"Failure (1)\")) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nThe histogram showcases the recorded survival time for the poeple who died are from 0 to 800 days.\n\n\nDistribution of Treatment Groups\n\n\nCode\n# Distribution of Treatment Groups\nggplot(data, aes(x = factor(trt), fill = factor(trt))) +\n  geom_bar(fill = \"orange\", color = \"black\") +\n  labs(title = \"Treatment Group Distribution\", x = \"Treatment Group\", y = \"Number\") +\n  scale_x_discrete(labels = c(\"0\" = \"ZDV only\", \"1\" = \"ZDV + ddI\",\"2\" = \"ZZDV + Zal\", \"3\" = \"ddI only\"))\n\n\n\n\n\n\n\n\n\nFrom this graph, we can see the each treatment group are almost equally distributed, which is a well balanced dataset that would not cause any bias about the final treatment results\n\n\nAge distribution by treatment group\n\n\nCode\nggplot(data, aes(x = age, fill = as.factor(trt))) +\n  geom_histogram(bins = 30, position = \"dodge\", alpha = 0.7) +\n  labs(title = \"Age Distribution by Treatment Group\", x = \"Age\", fill = \"Treatment Group\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nFrom this graph, we can see the age are centered in the range 20-30 years old and every treatment are balance distributed with patients’ age.\n\n\nGender proportion by treatment group\n\n\nCode\nggplot(data, aes(x = as.factor(gender), fill = as.factor(trt))) +\n  geom_bar(position = \"dodge\", alpha = 0.7) +\n  scale_x_discrete(labels = c(\"0\" = \"Female\", \"1\" = \"Male\")) +  # Adding labels for gender\n  labs(title = \"Gender Proportion by Treatment Group\", x = \"Gender\", fill = \"Treatment Group\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nFrom this graph, in each treatment group, the number of male is much greater than the nuber of female, this also proves that male group are more likely to have Aids than female.\n\n\nRelationship between CD4 and CD8 counts\n\n\nCode\nlibrary(ggplot2)\nlibrary(gridExtra)\n\n# Plot for Treatment Group 1\nplot1 &lt;- ggplot(data %&gt;% filter(trt == 0), aes(x = cd40, y = cd80)) +\n  geom_point(alpha = 0.5, color = \"blue\") +\n  labs(title = \"Treatment Group 1: CD4 vs CD8\", x = \"CD4 Count at Baseline\", y = \"CD8 Count at Baseline\") +\n  theme_minimal()\n\n# Plot for Treatment Group 2\nplot2 &lt;- ggplot(data %&gt;% filter(trt == 1), aes(x = cd40, y = cd80)) +\n  geom_point(alpha = 0.5, color = \"green\") +\n  labs(title = \"Treatment Group 2: CD4 vs CD8\", x = \"CD4 Count at Baseline\", y = \"CD8 Count at Baseline\") +\n  theme_minimal()\n\n# Plot for Treatment Group 3\nplot3 &lt;- ggplot(data %&gt;% filter(trt == 2), aes(x = cd40, y = cd80)) +\n  geom_point(alpha = 0.5, color = \"purple\") +\n  labs(title = \"Treatment Group 3: CD4 vs CD8\", x = \"CD4 Count at Baseline\", y = \"CD8 Count at Baseline\") +\n  theme_minimal()\n\n# Plot for Treatment Group 4 (if applicable)\nplot4 &lt;- ggplot(data %&gt;% filter(trt == 3), aes(x = cd40, y = cd80)) +\n  geom_point(alpha = 0.5, color = \"red\") +\n  labs(title = \"Treatment Group 4: CD4 vs CD8\", x = \"CD4 Count at Baseline\", y = \"CD8 Count at Baseline\") +\n  theme_minimal()\n\ngrid.arrange(plot1, plot2, plot3, plot4, nrow = 2, ncol = 2)\n\n\n\n\n\n\n\n\n\nFrom this graph, there is no big difference between CD4 and CD8 in each treatment group and there is no clear trend that shows the relationship between CD4 and CD8.\n\n\nRelationship between CD4 and CD8 counts at 20+/-5 weeks\n\n\nCode\n# Relationship between CD420 and CD820 counts\nggplot(data, aes(x = cd420, y = cd820)) +\n  geom_point(alpha = 0.5) +\n  labs(title = \"CD4 vs CD8 Counts at 20+/-5 weeks\", x = \"CD4 Count at 20+/-5 weeks\", y = \"CD8 Count at 20+/-5 weeks\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nCD4 counts are concentrated between 0 and 900, with most points below 300. CD8 counts range from 0 to about 6000, with a dense cluster below 2000. The points are more dispersed along the CD8 axis compared to the CD4 axis. There are no straightforward signal to show that they are correlated and this might indicate that CD4 and CD8 counts are regulated independently at this stage (20 ± 5 weeks)\n\n\npie chart for Diagnosis Outcome distribution\n\n\nCode\ncid_counts &lt;- data %&gt;%\n  group_by(cid) %&gt;%\n  summarise(count = n())\n\nggplot(cid_counts, aes(x = \"\", y = count, fill = factor(cid))) +\n  geom_bar(stat = \"identity\", width = 1) +\n  coord_polar(\"y\") +\n  labs(title = \"Diagnosis Result Distribution\", fill = \"cid\") +\n  theme_void() +\n  scale_fill_manual(labels = c(\"0\" = \"failure\", \"1\" = \"censoring\"), values = c(\"0\" = \"lightblue\", \"1\" = \"orange\"))\n\n\n\n\n\n\n\n\n\nFrom the graph we can see the number of censoring is larger than the failure, which showed unbalanced outcome variable numbers, so this may take into consideration with future model training.\n\n\nAverage survival time by each treatment method\n\n\nCode\navg_time_by_trt &lt;- data %&gt;%\n  group_by(trt) %&gt;%\n  summarise(avg_time = mean(time, na.rm = TRUE))\n\n# bar plot for average time by treatment group\nggplot(avg_time_by_trt, aes(x = factor(trt), y = avg_time, fill = factor(trt))) +\n  geom_bar(stat = \"identity\", color = \"black\") +\n  labs(title = \"Average Time by Treatment Group\", x = \"Treatment Group\", y = \"Average Time\") +\n  theme_minimal() +\n  scale_fill_discrete(name = \"Treatment\") +\n  scale_x_discrete(labels = c(\"0\" = \"ZDV only\", \"1\" = \"ZDV + ddI\",\"2\" = \"ZZDV + Zal\", \"3\" = \"ddI only\"))\n\n\n\n\n\n\n\n\n\nFrom the bar plot, it seemed the ZDV + ddI is the best treatment which allows the patient has the longest survival time.\n\n\nCorrelation Heatmap of Karnofsky score against multiple CD cell counts\n\n\nCode\nlibrary(ggplot2)\nlibrary(reshape2)\n\ncor_data &lt;- data %&gt;% select(karnof, cd40, cd420, cd80, cd820)\ncor_matrix &lt;- cor(cor_data, use = \"complete.obs\")\nmelted_cor_matrix &lt;- melt(cor_matrix)\n\n# Plot the heatmap\nggplot(data = melted_cor_matrix, aes(x = Var1, y = Var2, fill = value)) +\n  geom_tile(color = \"white\") +\n  scale_fill_gradient2(low = \"blue\", high = \"red\", mid = \"white\", \n                       midpoint = 0, limit = c(-1, 1), space = \"Lab\", \n                       name = \"Correlation\") +\n  theme_minimal() + \n  labs(title = \"Correlation Heatmap: Karnofsky Score vs CD Cell Counts\", \n       x = \"\", y = \"\") +\n  theme(axis.text.x = element_text(angle = 45, vjust = 1, \n                                   size = 12, hjust = 1))\n\n\n\n\n\n\n\n\n\nThe positive correlation between the Karnofsky score and CD4 counts suggests that patients with better functional abilities tend to have stronger immune responses, as indicated by CD4 counts. This makes sense because CD4 counts are a key indicator of immune health in AIDS patients. The weaker or negligible correlations with CD8 counts indicate that the CD8 cells may not have as strong a direct relationship with the Karnofsky score.",
    "crumbs": [
      "EDA"
    ]
  },
  {
    "objectID": "EDA.html#updated-questions",
    "href": "EDA.html#updated-questions",
    "title": "EDA",
    "section": "",
    "text": "Our questions are still follow our previous proposal, and we want to identify the following questions based on the dataset.\n\nHow do patient demographics (e.g., age, gender, baseline health status) influence the effectiveness of different treatment methods on survival outcomes?\nWhat clinical features (e.g., CD4 counts, Karnofsky score) significantly impact survival outcomes for patients undergoing different treatments?\n\n\nWhich combination of CD4 counts and Karnofsky scores provides the most accurate prediction of patient outcomes for each treatment method?\n\n\nWhich treatment method would be better?\n\n\nHow do patient demographics (e.g., age, gender, baseline health status) influence the effectiveness of different treatment methods on survival outcomes?\n\n\nWhat are the most important indicators/features that better give the diagnois result?\n\n\nWhat are the most significant clinical factors influencing patient survival when considering CD cell counts and treatment methods?\n\n\nwhat is the best model to predict the diagnosis result?",
    "crumbs": [
      "EDA"
    ]
  },
  {
    "objectID": "EDA.html#eda",
    "href": "EDA.html#eda",
    "title": "Project Proposal",
    "section": "",
    "text": "library(ggplot2)\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(corrplot)\n\ncorrplot 0.94 loaded\n\nlibrary(GGally)\n\nRegistered S3 method overwritten by 'GGally':\n  method from   \n  +.gg   ggplot2\n\ndata &lt;- read.csv(\"data/raw-data/aids_clinical_trials_combined.csv\")\n\n\n\n\n# Statistic Summary of the dataset\nsummary(data)\n\n      time             trt             age             wtkg       \n Min.   :  14.0   Min.   :0.000   Min.   :12.00   Min.   : 31.00  \n 1st Qu.: 727.0   1st Qu.:1.000   1st Qu.:29.00   1st Qu.: 66.68  \n Median : 997.0   Median :2.000   Median :34.00   Median : 74.39  \n Mean   : 879.1   Mean   :1.521   Mean   :35.25   Mean   : 75.13  \n 3rd Qu.:1091.0   3rd Qu.:3.000   3rd Qu.:40.00   3rd Qu.: 82.56  \n Max.   :1231.0   Max.   :3.000   Max.   :70.00   Max.   :159.94  \n      hemo              homo            drugs            karnof      \n Min.   :0.00000   Min.   :0.0000   Min.   :0.0000   Min.   : 70.00  \n 1st Qu.:0.00000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.: 90.00  \n Median :0.00000   Median :1.0000   Median :0.0000   Median :100.00  \n Mean   :0.08415   Mean   :0.6611   Mean   :0.1314   Mean   : 95.45  \n 3rd Qu.:0.00000   3rd Qu.:1.0000   3rd Qu.:0.0000   3rd Qu.:100.00  \n Max.   :1.00000   Max.   :1.0000   Max.   :1.0000   Max.   :100.00  \n     oprior             z30             zprior     preanti      \n Min.   :0.00000   Min.   :0.0000   Min.   :1   Min.   :   0.0  \n 1st Qu.:0.00000   1st Qu.:0.0000   1st Qu.:1   1st Qu.:   0.0  \n Median :0.00000   Median :1.0000   Median :1   Median : 142.0  \n Mean   :0.02197   Mean   :0.5503   Mean   :1   Mean   : 379.2  \n 3rd Qu.:0.00000   3rd Qu.:1.0000   3rd Qu.:1   3rd Qu.: 739.5  \n Max.   :1.00000   Max.   :1.0000   Max.   :1   Max.   :2851.0  \n      race            gender           str2            strat     \n Min.   :0.0000   Min.   :0.000   Min.   :0.0000   Min.   :1.00  \n 1st Qu.:0.0000   1st Qu.:1.000   1st Qu.:0.0000   1st Qu.:1.00  \n Median :0.0000   Median :1.000   Median :1.0000   Median :2.00  \n Mean   :0.2885   Mean   :0.828   Mean   :0.5858   Mean   :1.98  \n 3rd Qu.:1.0000   3rd Qu.:1.000   3rd Qu.:1.0000   3rd Qu.:3.00  \n Max.   :1.0000   Max.   :1.000   Max.   :1.0000   Max.   :3.00  \n    symptom          treat            offtrt            cd40       \n Min.   :0.000   Min.   :0.0000   Min.   :0.0000   Min.   :   0.0  \n 1st Qu.:0.000   1st Qu.:1.0000   1st Qu.:0.0000   1st Qu.: 263.5  \n Median :0.000   Median :1.0000   Median :0.0000   Median : 340.0  \n Mean   :0.173   Mean   :0.7513   Mean   :0.3628   Mean   : 350.5  \n 3rd Qu.:0.000   3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.: 423.0  \n Max.   :1.000   Max.   :1.0000   Max.   :1.0000   Max.   :1199.0  \n     cd420             cd80            cd820             cid        \n Min.   :  49.0   Min.   :  40.0   Min.   : 124.0   Min.   :0.0000  \n 1st Qu.: 269.0   1st Qu.: 654.0   1st Qu.: 631.5   1st Qu.:0.0000  \n Median : 353.0   Median : 893.0   Median : 865.0   Median :0.0000  \n Mean   : 371.3   Mean   : 986.6   Mean   : 935.4   Mean   :0.2436  \n 3rd Qu.: 460.0   3rd Qu.:1207.0   3rd Qu.:1146.5   3rd Qu.:0.0000  \n Max.   :1119.0   Max.   :5011.0   Max.   :6035.0   Max.   :1.0000  \n\n\n\n\n\n\nmissing_values &lt;- colSums(is.na(data))\nprint(missing_values)\n\n   time     trt     age    wtkg    hemo    homo   drugs  karnof  oprior     z30 \n      0       0       0       0       0       0       0       0       0       0 \n zprior preanti    race  gender    str2   strat symptom   treat  offtrt    cd40 \n      0       0       0       0       0       0       0       0       0       0 \n  cd420    cd80   cd820     cid \n      0       0       0       0 \n\n\nThere’s no missing value for very column\n\n\n\n\nggcorr(data)+\n  ggtitle(\"Correlation Matrix\") +\n  theme(plot.title = element_text(hjust = 0.5, size = 16))\n\nWarning in cor(data, use = method[1], method = method[2]): the standard\ndeviation is zero\n\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(data, aes(x = time, fill = as.factor(cid))) +\n  geom_histogram(position = \"identity\", bins = 30, color = \"black\", alpha = 0.5) +\n  labs(\n    title = \"Time Distribution by Censoring Indicator\",\n    x = \"Survival Time\",\n    y = \"Count\",\n    fill = \"CID Indicator\"\n  ) +\n  scale_fill_manual(values = c(\"skyblue\", \"orange\"), labels = c(\"Censored (0)\", \"Failure (1)\")) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(data, aes(x = age)) +\n  geom_histogram(bins = 30, fill = \"skyblue\", color = \"black\") +\n  labs(title = \"Age Distribution\", x = \"Age\", y = \"Count\")\n\n\n\n\n\n\n\n\nFrom this graph, we can see the age are centered in the range 20-30 years old.\n\n\n\n\n# Distribution of Treatment Groups\nggplot(data, aes(x = factor(trt))) +\n  geom_bar(fill = \"orange\", color = \"black\") +\n  labs(title = \"Treatment Group Distribution\", x = \"Treatment Group\", y = \"Number\") +\n  scale_x_discrete(labels = c(\"0\" = \"ZDV only\", \"1\" = \"ZDV + ddI\",\"2\" = \"ZZDV + Zal\", \"3\" = \"ddI only\"))\n\n\n\n\n\n\n\n\nFrom this graph, we can see the each treatment group are almost equally distributed, which is a well balanced dataset.\n\n\n\n\nggplot(data, aes(x = age, fill = as.factor(trt))) +\n  geom_histogram(bins = 30, position = \"dodge\", alpha = 0.7) +\n  labs(title = \"Age Distribution by Treatment Group\", x = \"Age\", fill = \"Treatment Group\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\n\nggplot(data, aes(x = as.factor(gender), fill = as.factor(trt))) +\n  geom_bar(position = \"dodge\", alpha = 0.7) +\n  scale_x_discrete(labels = c(\"0\" = \"Female\", \"1\" = \"Male\")) +  # Adding labels for gender\n  labs(title = \"Gender Proportion by Treatment Group\", x = \"Gender\", fill = \"Treatment Group\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\nFrom this graph, in each treatment group, the number of male is much greater than the nuber of female.\n\n\n\n\nlibrary(ggplot2)\nlibrary(gridExtra)\n\n\nAttaching package: 'gridExtra'\n\n\nThe following object is masked from 'package:dplyr':\n\n    combine\n\n# Plot for Treatment Group 1\nplot1 &lt;- ggplot(data %&gt;% filter(trt == 0), aes(x = cd40, y = cd80)) +\n  geom_point(alpha = 0.5, color = \"blue\") +\n  labs(title = \"Treatment Group 1: CD4 vs CD8\", x = \"CD4 Count at Baseline\", y = \"CD8 Count at Baseline\") +\n  theme_minimal()\n\n# Plot for Treatment Group 2\nplot2 &lt;- ggplot(data %&gt;% filter(trt == 1), aes(x = cd40, y = cd80)) +\n  geom_point(alpha = 0.5, color = \"green\") +\n  labs(title = \"Treatment Group 2: CD4 vs CD8\", x = \"CD4 Count at Baseline\", y = \"CD8 Count at Baseline\") +\n  theme_minimal()\n\n# Plot for Treatment Group 3\nplot3 &lt;- ggplot(data %&gt;% filter(trt == 2), aes(x = cd40, y = cd80)) +\n  geom_point(alpha = 0.5, color = \"purple\") +\n  labs(title = \"Treatment Group 3: CD4 vs CD8\", x = \"CD4 Count at Baseline\", y = \"CD8 Count at Baseline\") +\n  theme_minimal()\n\n# Plot for Treatment Group 4 (if applicable)\nplot4 &lt;- ggplot(data %&gt;% filter(trt == 3), aes(x = cd40, y = cd80)) +\n  geom_point(alpha = 0.5, color = \"red\") +\n  labs(title = \"Treatment Group 4: CD4 vs CD8\", x = \"CD4 Count at Baseline\", y = \"CD8 Count at Baseline\") +\n  theme_minimal()\n\n# Arrange the plots together\ngrid.arrange(plot1, plot2, plot3, plot4, nrow = 2, ncol = 2)\n\n\n\n\n\n\n\n\nFrom this graph, there is no big difference between CD4 and CD8 in each treatment group and there is no clear trend that shows the relationship between CD4 and CD8.\n\n\n\n\n# Relationship between CD420 and CD820 counts\nggplot(data, aes(x = cd420, y = cd820)) +\n  geom_point(alpha = 0.5) +\n  labs(title = \"CD4 vs CD8 Counts at 20+/-5 weeks\", x = \"CD4 Count at 20+/-5 weeks\", y = \"CD8 Count at 20+/-5 weeks\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\n\ncid_counts &lt;- data %&gt;%\n  group_by(cid) %&gt;%\n  summarise(count = n())\n\nggplot(cid_counts, aes(x = \"\", y = count, fill = factor(cid))) +\n  geom_bar(stat = \"identity\", width = 1) +\n  coord_polar(\"y\") +\n  labs(title = \"Diagnosis Result Distribution\", fill = \"cid\") +\n  theme_void() +\n  scale_fill_manual(labels = c(\"0\" = \"failure\", \"1\" = \"censoring\"), values = c(\"0\" = \"lightblue\", \"1\" = \"orange\"))\n\n\n\n\n\n\n\n\nFrom the graph we can see the number of censoring is larger than the failure, which showed unbalanced outcome variable numbers, so this may take into consideration with future model training.\n\n\n\n\navg_time_by_trt &lt;- data %&gt;%\n  group_by(trt) %&gt;%\n  summarise(avg_time = mean(time, na.rm = TRUE))\n\n# bar plot for average time by treatment group\nggplot(avg_time_by_trt, aes(x = factor(trt), y = avg_time, fill = factor(trt))) +\n  geom_bar(stat = \"identity\", color = \"black\") +\n  labs(title = \"Average Time by Treatment Group\", x = \"Treatment Group\", y = \"Average Time\") +\n  theme_minimal() +\n  scale_fill_discrete(name = \"Treatment\")\n\n\n\n\n\n\n\n\nFrom the bar plot, it seemed the second plot is the best treatment which allows the patient has the longest survival time.\n\n\n\n\nlibrary(ggplot2)\nlibrary(reshape2)\n\ncor_data &lt;- data %&gt;% select(karnof, cd40, cd420, cd80, cd820)\ncor_matrix &lt;- cor(cor_data, use = \"complete.obs\")\nmelted_cor_matrix &lt;- melt(cor_matrix)\n\n# Plot the heatmap\nggplot(data = melted_cor_matrix, aes(x = Var1, y = Var2, fill = value)) +\n  geom_tile(color = \"white\") +\n  scale_fill_gradient2(low = \"blue\", high = \"red\", mid = \"white\", \n                       midpoint = 0, limit = c(-1, 1), space = \"Lab\", \n                       name = \"Correlation\") +\n  theme_minimal() + \n  labs(title = \"Correlation Heatmap: Karnofsky Score vs CD Cell Counts\", \n       x = \"\", y = \"\") +\n  theme(axis.text.x = element_text(angle = 45, vjust = 1, \n                                   size = 12, hjust = 1))\n\n\n\n\n\n\n\n\nThe positive correlation between the Karnofsky score and CD4 counts suggests that patients with better functional abilities tend to have stronger immune responses, as indicated by CD4 counts. This makes sense because CD4 counts are a key indicator of immune health in AIDS patients. The weaker or negligible correlations with CD8 counts indicate that the CD8 cells may not have as strong a direct relationship with the Karnofsky score."
  },
  {
    "objectID": "project-proposal.html",
    "href": "project-proposal.html",
    "title": "Project Proposal",
    "section": "",
    "text": "Zhuoyan Guo\nXue Qin\n\nCongfei Yin",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "project-proposal.html#project-title-predicting-aids-patient-survival-using-clinical-trial-data",
    "href": "project-proposal.html#project-title-predicting-aids-patient-survival-using-clinical-trial-data",
    "title": "Project Proposal",
    "section": "Project title: Predicting Aids Patient Survival Using Clinical Trial Data",
    "text": "Project title: Predicting Aids Patient Survival Using Clinical Trial Data",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "project-proposal.html#proposal",
    "href": "project-proposal.html#proposal",
    "title": "Project Proposal",
    "section": "Proposal",
    "text": "Proposal\nThe goal of this project is to predict Aids patient treatment failure (death) or survival (censoring) with a certain window of time by comparing two different treatments and looking at the clinical factors such as patient demographics, treatment indicators, and clinical factors such as CD4 counts and Karnofsky scores.\nMethodology that will be included in this project would be survival analysis and machine learning methods. Kaplan-Meier Estimator and survival curve will help to compare the difference of using two treatments by visualizing probability of survival over time. The prediction models such as Linear Regression, Logistic Regression and Decision Tree will be used to predict the patients’ survival outcome. The evaluation of models will also proceed during the model development. While constructing the models, the project will involve identifying the most significant features that contribute to patient survival and evaluate their influence.\nUltimately, this project will not only provide a reliable AIDS treatment outcomes prediction model but will also create clinical insights into how various treatments and various patients’ characteristics influence survival rates.",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "project-proposal.html#data-sources",
    "href": "project-proposal.html#data-sources",
    "title": "Project Proposal",
    "section": "Data sources",
    "text": "Data sources\n\nData URL\nIt’s a public dataset contains records of patients who were diagnosis with AIDS.\nThe data contained 2139 intances, include integer and catugoriacal variables",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "project-proposal.html#project-planned-timeline",
    "href": "project-proposal.html#project-planned-timeline",
    "title": "Project Proposal",
    "section": "Project planned timeline",
    "text": "Project planned timeline\n\nProposal Outline - Sep 30th\nData Understanding, Cleaning and EDA - Oct 6th\nLiterature Review - Oct 20th\nMethodology and Code Development - Nov 3th\nPresentation Preparation - Nov 24\nReport Write Up - Dec 1\n3 Teammates will work together and hold bi-weely meetings discussing the project progress.",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "EDA.html#eda-1",
    "href": "EDA.html#eda-1",
    "title": "EDA",
    "section": "",
    "text": "Code\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(corrplot)\nlibrary(GGally)\ndata &lt;- read.csv(\"data/raw-data/aids_clinical_trials_combined.csv\")\n\n\n\n\n\n\nShow the code\n# Statistic Summary of the dataset\nsummary(data)\n\n\n      time             trt             age             wtkg       \n Min.   :  14.0   Min.   :0.000   Min.   :12.00   Min.   : 31.00  \n 1st Qu.: 727.0   1st Qu.:1.000   1st Qu.:29.00   1st Qu.: 66.68  \n Median : 997.0   Median :2.000   Median :34.00   Median : 74.39  \n Mean   : 879.1   Mean   :1.521   Mean   :35.25   Mean   : 75.13  \n 3rd Qu.:1091.0   3rd Qu.:3.000   3rd Qu.:40.00   3rd Qu.: 82.56  \n Max.   :1231.0   Max.   :3.000   Max.   :70.00   Max.   :159.94  \n      hemo              homo            drugs            karnof      \n Min.   :0.00000   Min.   :0.0000   Min.   :0.0000   Min.   : 70.00  \n 1st Qu.:0.00000   1st Qu.:0.0000   1st Qu.:0.0000   1st Qu.: 90.00  \n Median :0.00000   Median :1.0000   Median :0.0000   Median :100.00  \n Mean   :0.08415   Mean   :0.6611   Mean   :0.1314   Mean   : 95.45  \n 3rd Qu.:0.00000   3rd Qu.:1.0000   3rd Qu.:0.0000   3rd Qu.:100.00  \n Max.   :1.00000   Max.   :1.0000   Max.   :1.0000   Max.   :100.00  \n     oprior             z30             zprior     preanti      \n Min.   :0.00000   Min.   :0.0000   Min.   :1   Min.   :   0.0  \n 1st Qu.:0.00000   1st Qu.:0.0000   1st Qu.:1   1st Qu.:   0.0  \n Median :0.00000   Median :1.0000   Median :1   Median : 142.0  \n Mean   :0.02197   Mean   :0.5503   Mean   :1   Mean   : 379.2  \n 3rd Qu.:0.00000   3rd Qu.:1.0000   3rd Qu.:1   3rd Qu.: 739.5  \n Max.   :1.00000   Max.   :1.0000   Max.   :1   Max.   :2851.0  \n      race            gender           str2            strat     \n Min.   :0.0000   Min.   :0.000   Min.   :0.0000   Min.   :1.00  \n 1st Qu.:0.0000   1st Qu.:1.000   1st Qu.:0.0000   1st Qu.:1.00  \n Median :0.0000   Median :1.000   Median :1.0000   Median :2.00  \n Mean   :0.2885   Mean   :0.828   Mean   :0.5858   Mean   :1.98  \n 3rd Qu.:1.0000   3rd Qu.:1.000   3rd Qu.:1.0000   3rd Qu.:3.00  \n Max.   :1.0000   Max.   :1.000   Max.   :1.0000   Max.   :3.00  \n    symptom          treat            offtrt            cd40       \n Min.   :0.000   Min.   :0.0000   Min.   :0.0000   Min.   :   0.0  \n 1st Qu.:0.000   1st Qu.:1.0000   1st Qu.:0.0000   1st Qu.: 263.5  \n Median :0.000   Median :1.0000   Median :0.0000   Median : 340.0  \n Mean   :0.173   Mean   :0.7513   Mean   :0.3628   Mean   : 350.5  \n 3rd Qu.:0.000   3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.: 423.0  \n Max.   :1.000   Max.   :1.0000   Max.   :1.0000   Max.   :1199.0  \n     cd420             cd80            cd820             cid        \n Min.   :  49.0   Min.   :  40.0   Min.   : 124.0   Min.   :0.0000  \n 1st Qu.: 269.0   1st Qu.: 654.0   1st Qu.: 631.5   1st Qu.:0.0000  \n Median : 353.0   Median : 893.0   Median : 865.0   Median :0.0000  \n Mean   : 371.3   Mean   : 986.6   Mean   : 935.4   Mean   :0.2436  \n 3rd Qu.: 460.0   3rd Qu.:1207.0   3rd Qu.:1146.5   3rd Qu.:0.0000  \n Max.   :1119.0   Max.   :5011.0   Max.   :6035.0   Max.   :1.0000  \n\n\n\n\n\n\n\nShow the code\nmissing_values &lt;- colSums(is.na(data))\nprint(missing_values)\n\n\n   time     trt     age    wtkg    hemo    homo   drugs  karnof  oprior     z30 \n      0       0       0       0       0       0       0       0       0       0 \n zprior preanti    race  gender    str2   strat symptom   treat  offtrt    cd40 \n      0       0       0       0       0       0       0       0       0       0 \n  cd420    cd80   cd820     cid \n      0       0       0       0 \n\n\nThere’s no missing value for very column\n\n\n\n\n\nCode\nggcorr(data)+\n  ggtitle(\"Correlation Matrix\") +\n  theme(plot.title = element_text(hjust = 0.5, size = 16))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nShow the code\nggplot(data, aes(x = time, fill = as.factor(cid))) +\n  geom_histogram(position = \"identity\", bins = 30, color = \"black\", alpha = 0.5) +\n  labs(\n    title = \"Time Distribution by Censoring Indicator\",\n    x = \"Survival Time\",\n    y = \"Count\",\n    fill = \"CID Indicator\"\n  ) +\n  scale_fill_manual(values = c(\"skyblue\", \"orange\"), labels = c(\"Censored (0)\", \"Failure (1)\")) +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nggplot(data, aes(x = age)) +\n  geom_histogram(bins = 30, fill = \"skyblue\", color = \"black\") +\n  labs(title = \"Age Distribution\", x = \"Age\", y = \"Count\")\n\n\n\n\n\n\n\n\n\nFrom this graph, we can see the age are centered in the range 20-30 years old.\n\n\n\n\n\nCode\n# Distribution of Treatment Groups\nggplot(data, aes(x = factor(trt))) +\n  geom_bar(fill = \"orange\", color = \"black\") +\n  labs(title = \"Treatment Group Distribution\", x = \"Treatment Group\", y = \"Number\") +\n  scale_x_discrete(labels = c(\"0\" = \"ZDV only\", \"1\" = \"ZDV + ddI\",\"2\" = \"ZZDV + Zal\", \"3\" = \"ddI only\"))\n\n\n\n\n\n\n\n\n\nFrom this graph, we can see the each treatment group are almost equally distributed, which is a well balanced dataset.\n\n\n\n\n\nCode\nggplot(data, aes(x = age, fill = as.factor(trt))) +\n  geom_histogram(bins = 30, position = \"dodge\", alpha = 0.7) +\n  labs(title = \"Age Distribution by Treatment Group\", x = \"Age\", fill = \"Treatment Group\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\nggplot(data, aes(x = as.factor(gender), fill = as.factor(trt))) +\n  geom_bar(position = \"dodge\", alpha = 0.7) +\n  scale_x_discrete(labels = c(\"0\" = \"Female\", \"1\" = \"Male\")) +  # Adding labels for gender\n  labs(title = \"Gender Proportion by Treatment Group\", x = \"Gender\", fill = \"Treatment Group\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nFrom this graph, in each treatment group, the number of male is much greater than the nuber of female.\n\n\n\n\n\nCode\nlibrary(ggplot2)\nlibrary(gridExtra)\n\n# Plot for Treatment Group 1\nplot1 &lt;- ggplot(data %&gt;% filter(trt == 0), aes(x = cd40, y = cd80)) +\n  geom_point(alpha = 0.5, color = \"blue\") +\n  labs(title = \"Treatment Group 1: CD4 vs CD8\", x = \"CD4 Count at Baseline\", y = \"CD8 Count at Baseline\") +\n  theme_minimal()\n\n# Plot for Treatment Group 2\nplot2 &lt;- ggplot(data %&gt;% filter(trt == 1), aes(x = cd40, y = cd80)) +\n  geom_point(alpha = 0.5, color = \"green\") +\n  labs(title = \"Treatment Group 2: CD4 vs CD8\", x = \"CD4 Count at Baseline\", y = \"CD8 Count at Baseline\") +\n  theme_minimal()\n\n# Plot for Treatment Group 3\nplot3 &lt;- ggplot(data %&gt;% filter(trt == 2), aes(x = cd40, y = cd80)) +\n  geom_point(alpha = 0.5, color = \"purple\") +\n  labs(title = \"Treatment Group 3: CD4 vs CD8\", x = \"CD4 Count at Baseline\", y = \"CD8 Count at Baseline\") +\n  theme_minimal()\n\n# Plot for Treatment Group 4 (if applicable)\nplot4 &lt;- ggplot(data %&gt;% filter(trt == 3), aes(x = cd40, y = cd80)) +\n  geom_point(alpha = 0.5, color = \"red\") +\n  labs(title = \"Treatment Group 4: CD4 vs CD8\", x = \"CD4 Count at Baseline\", y = \"CD8 Count at Baseline\") +\n  theme_minimal()\n\n# Arrange the plots together\ngrid.arrange(plot1, plot2, plot3, plot4, nrow = 2, ncol = 2)\n\n\n\n\n\n\n\n\n\nFrom this graph, there is no big difference between CD4 and CD8 in each treatment group and there is no clear trend that shows the relationship between CD4 and CD8.\n\n\n\n\n\nCode\n# Relationship between CD420 and CD820 counts\nggplot(data, aes(x = cd420, y = cd820)) +\n  geom_point(alpha = 0.5) +\n  labs(title = \"CD4 vs CD8 Counts at 20+/-5 weeks\", x = \"CD4 Count at 20+/-5 weeks\", y = \"CD8 Count at 20+/-5 weeks\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nCode\ncid_counts &lt;- data %&gt;%\n  group_by(cid) %&gt;%\n  summarise(count = n())\n\nggplot(cid_counts, aes(x = \"\", y = count, fill = factor(cid))) +\n  geom_bar(stat = \"identity\", width = 1) +\n  coord_polar(\"y\") +\n  labs(title = \"Diagnosis Result Distribution\", fill = \"cid\") +\n  theme_void() +\n  scale_fill_manual(labels = c(\"0\" = \"failure\", \"1\" = \"censoring\"), values = c(\"0\" = \"lightblue\", \"1\" = \"orange\"))\n\n\n\n\n\n\n\n\n\nFrom the graph we can see the number of censoring is larger than the failure, which showed unbalanced outcome variable numbers, so this may take into consideration with future model training.\n\n\n\n\n\nCode\navg_time_by_trt &lt;- data %&gt;%\n  group_by(trt) %&gt;%\n  summarise(avg_time = mean(time, na.rm = TRUE))\n\n# bar plot for average time by treatment group\nggplot(avg_time_by_trt, aes(x = factor(trt), y = avg_time, fill = factor(trt))) +\n  geom_bar(stat = \"identity\", color = \"black\") +\n  labs(title = \"Average Time by Treatment Group\", x = \"Treatment Group\", y = \"Average Time\") +\n  theme_minimal() +\n  scale_fill_discrete(name = \"Treatment\")\n\n\n\n\n\n\n\n\n\nFrom the bar plot, it seemed the second plot is the best treatment which allows the patient has the longest survival time.\n\n\n\n\n\nCode\nlibrary(ggplot2)\nlibrary(reshape2)\n\ncor_data &lt;- data %&gt;% select(karnof, cd40, cd420, cd80, cd820)\ncor_matrix &lt;- cor(cor_data, use = \"complete.obs\")\nmelted_cor_matrix &lt;- melt(cor_matrix)\n\n# Plot the heatmap\nggplot(data = melted_cor_matrix, aes(x = Var1, y = Var2, fill = value)) +\n  geom_tile(color = \"white\") +\n  scale_fill_gradient2(low = \"blue\", high = \"red\", mid = \"white\", \n                       midpoint = 0, limit = c(-1, 1), space = \"Lab\", \n                       name = \"Correlation\") +\n  theme_minimal() + \n  labs(title = \"Correlation Heatmap: Karnofsky Score vs CD Cell Counts\", \n       x = \"\", y = \"\") +\n  theme(axis.text.x = element_text(angle = 45, vjust = 1, \n                                   size = 12, hjust = 1))\n\n\n\n\n\n\n\n\n\nThe positive correlation between the Karnofsky score and CD4 counts suggests that patients with better functional abilities tend to have stronger immune responses, as indicated by CD4 counts. This makes sense because CD4 counts are a key indicator of immune health in AIDS patients. The weaker or negligible correlations with CD8 counts indicate that the CD8 cells may not have as strong a direct relationship with the Karnofsky score.",
    "crumbs": [
      "EDA"
    ]
  },
  {
    "objectID": "conclusion.html",
    "href": "conclusion.html",
    "title": "Conclusion",
    "section": "",
    "text": "Conclusion"
  },
  {
    "objectID": "random_forest.html",
    "href": "random_forest.html",
    "title": "Random Forest Model",
    "section": "",
    "text": "The Random Forest model was developed as part of the survival analysis to predict survival probabilities patients who have been diagnosed with AIDS based on multiple covariates. This page outlines the key steps involved in building and validating the Random Forest model, providing insights into its performance and interpretability.",
    "crumbs": [
      "Random Forest"
    ]
  },
  {
    "objectID": "Decision_tree.html",
    "href": "Decision_tree.html",
    "title": "Decision Tree Model",
    "section": "",
    "text": "Decision Tree Model"
  },
  {
    "objectID": "survival_analysis.html",
    "href": "survival_analysis.html",
    "title": "Survival Analysis",
    "section": "",
    "text": "This page presents an exploration of survival outcomes based on the analysis of patient data using Kaplan-Meier and Cox proportional hazard models. By applying these methods, we examine the influence of key variables like ARV History, Symptom, and Karnofsky score. Our findings offer valuable insights into how these factors may shape the survival probabilities for patients taking different treatments, guiding both clinical decisions and future research.\n\nAnalyze Survival Probabilities Across Treatments\nThe survival analysis begins with developing the Kaplan-Meier survival probabilities for the four treatment groups: trt=0, trt=1, trt=2, and trt=3 where 0 = ZDV only; 1 = ZDV + ddI, 2 = ZDV + Zal, 3 = ddI only.\n\n\n\nKaplan-Meier Curve for All Treatments\n\n\nThe plot reveals a significant difference in survival probabilities across treatments, with trt=0 showing a significant worse outcomes compared to the other three treatments indicating by the p-value &lt; 0.0001. Patients who toke trt=1, trt=2, and trt=3 shows similar survival curves. These suggest that treatment 0 is less effective compared with the other three treatments, and further investigation is needed to see if specific factors that may influence survival within the remaining three treatments.\n\n\nFocus on Effective Treatments: Survival Differences in trt=1,2,3\n\n\n\nKaplan-Meier Curve for Treatments 1, 2, and 3\n\n\nWhen isolating the three more effective treatments (trt=1, trt=2, and trt=3),this graph demonstrates that the survival probabilities across these treatments are nearly indistinguishable according to the p-value = 0.4. This similarity implies that external factors – other than treatments themselves –may play a role in shaping the survival outcomes.\nTo discover potential variations, we are going to analyze how demographic and other clinical factors affect survival probabilities within each treatment group.\n\n\nExplore Factors That Affect Survival Probabilities Using the Bootstrap Method\nTo ensure a robust analysis of the factors influencing survival probabilities, we employed a bootstrap resampling method. This approach could addresses potential imbalances in the data such as uneven distribution of patients across treatment groups or demographic categories. And this method allows us to create multiple balanced datasets for analysis and they can ensure that the observed patterns in survival outcomes are not overly influenced by biases in the dataset.\n\n1. Gender\n\n\n\nSurvival Curves Stratified by Gender\n\n\nThe survival curves for each treatment group stratified by gender show that gender may significantly influence the survival probability for certain treatment. For trt=0, gender significantly impacts survival probabilities (p-value = 0.024), with female showing higher survival probabilities. However, gender differences are less significant for trt=1, trt=2, and trt=3 (p-values = 0.35, 0.061, and 0.79).\n\n\n2. Race\n\n\n\nSurvival Curves Stratified by Race\n\n\nWhen stratifying by race, the survival probabilities across all treatments show no significant differentce as p-values range from 0.22 to 0.96. This indicates that race does not have a big influence on survival outcomes within any of the treatment groups.\n\n\n3. ARV History\n\n\n\nSurvival Curves Stratified by ARV History\n\n\nARV history means the whether the patient has ever taken the antiretroviral treatments, which is the treatment of HIV/AIDS involves treatment of opportunistic infections, prophylaxis, and antiretroviral (ARV) therapy. Stratifying by ARV history allows us to explore how prior exposure to antiretroviral therapy would impact survival outcomes – patients with prior ARV treatment might have developed drug resistance, reducing the effectiveness of subsequent treatments.\nFrom the survival curves we can conclude that using trt=1, antiretroviral history (naive vs. experienced) does not significantly impact survival outcomes for patients. This means that previous exposure to antiretroviral therapy (ARV) does not appear to reduce the effectiveness of Treatment 1 in a statistically significant way. However, using trt=0, trt=2, and trt=3, ARV history has a substantial impact on survival probabilities. Patients with prior ARV treatment show significantly lower survival probabilities compared to naive patients due to the impact of drug resistance.\n\n\n4. Symptom\n\n\n\nSurvival Curves Stratified by Symptom\n\n\nFor trt=0 and trt=3, the p-values (0.11 and 0.38) indicate no statistically significant difference in survival probabilities between symptomatic and asymptomatic patients, suggesting that symptom status has no meaningful effect on survival in these treatment groups.\nHowever, for trt=1, the p-value (0.0039) shows a significant difference, where asymptomatic patients exhibit slightly better survival probabilities compared to symptomatic patients. The most striking difference is observed in Treatment 2, where the p-value (p&lt;0.0001) and the clear divergence of the survival curves indicate a strong association between symptom status and survival, with asymptomatic patients having markedly better survival outcomes.\n\n\n5. Karnofsky Score\n\n\n\nSurvival Curves Stratified by Karnofsky Quantile\n\n\nKarnofsky score measures a patient’s functional status on a scale from 0 to 100, with higher scores indicating better physical capability and ability to carry out daily activities. To better understand the impact of patient’s functional status, we divided the Karnofsky scores into four quartiles (Q1 being the lowest and Q4 the highest) and analyzed survival probabilities for each treatment group.\nBased on the curves, there is no significant difference in survival probabilities for patients using treatment 0, 1, and 3. However, Karnofsky score quartiles significantly impact survival probabilities (p = 0.038), with higher quartiles (Q3 and Q4) associated with improved survival outcomes if patients receiving trt=2. This indicates that functional status is a critical factor for patients receiving Treatment 2.\n\n\n6. CD4 at Baseline\n\n\n\nSurvival Curves Stratified by CD4 Quantile\n\n\nThe CD4 cell count is a critical measure of immune system health, particularly for patients with HIV/AIDS. It reflects the number of CD4 T-helper cells in the blood, which are essential for immune function. A higher CD4 count indicates better immune health, while lower counts are associated with a higher risk of opportunistic infections and worse health outcomes. To examine the relationship between CD4 levels and survival, we again divided CD4 counts into quartiles (Q1 being the lowest and Q4 the highest) and analyzed survival probabilities for each treatment group.\nAccording to the p-values, the results show a consistent and significant impact of CD4 quartiles on survival probabilities across all treatment groups: survival probabilities significantly improve with higher CD4 quartiles, saying that immune status is a key determinant of survival outcomes for all groups and patients with higher CD4 consistently demonstrate better survival probabilities, highlighting the importance of immune health in determining treatment effectiveness.\n\n\n\nFrom Kaplan-Meier Curves to Cox Proportional Hazards Models\nThe Kaplan-Meier (KM) curves provide a fundational view of survival probabilities by visualizing unadjusted survival outcomes across different strata, such as treatment groups or CD40 categories. While the KM curves effectively highlight survival differences between groups, they do not account for other important covariates that may influence survival, such as age, gender, Karnofsky scores, and clinical symptoms. To address this limitation and uncover the independent effects of multiple factors, we transitioned to Cox proportional hazards models.\nThe Cox proportional hazards model is a semi-parametric approach that allows for the simultaneous inclusion of multiple covariates. And it can adjust for confounding factors, ensuring a clearer understanding of each variable’s independent effect on survival. Besides, it can explore interactions between variables, such as the influence of treatment (trt) on survival, stratified by CD40 levels or Karnofsky scores.\n\n1. Cox Model with Interaction Terms\nBy running a Cox model that includes interaction terms to evaluate how the effect of treatment (trt) on survival changes depending on patient characteristics (e.g., Karnofsky score, CD40 level, ARV History and symptom presence), this Adjusted Survival Curves is derived.\n\n\n\nAdjusted Survival Curves by Treatment\n\n\nFrom this graph we can examine the survival differences after accounting for multiple covariates and interaction effects. Treatment 0 consistently shows significantly lower survival probabilities compared to Treatments 1, 2, and 3, even after adjustment for other factors. And Treatments 1, 2, and 3 still exhibit relatively similar adjusted survival probabilities, indicating comparable effectiveness in improving survival.\nBefore adjusting for multiple covariates and interaction effects, Treatment 1 initially shows the highest survival probabilities toward the end of the study period; however, after dealing with these adjustments, Treatment 2 appears to have the highest survival probabilities at the end of study.\n\nP-values from Schoenfeld Residual Test\n\n\n\nchisq\ndf\nP-Value\n\n\n\n\ntrt\n9.292\n3\n0.02566\n\n\nkarnof\n0.994\n1\n0.31875\n\n\nstr2\n0.067\n1\n0.79572\n\n\nsymptom\n1.636\n1\n0.20089\n\n\ncd40\n13.246\n1\n0.00027\n\n\ntrt:karnof\n10.686\n3\n0.01355\n\n\ntrt:str2\n3.168\n3\n0.36644\n\n\ntrt:symptom\n0.840\n3\n0.83998\n\n\ntrt:cd40\n18.346\n3\n0.00037\n\n\nGLOBAL\n36.678\n19\n0.00870\n\n\n\nHowever, the Schoenfeld residual test output above reveals that there is significant violations of the proportional hazards assumptions since the p-value for global test is 0.0087. Also, specific variables, such as cd40 (p = 0.00027) and the interaction trt:cd40 (p = 0.00037), show significant violations, suggesting that their effects on the hazard ratio change over time. This suggesting that a stratified approach was necessary.\n\n\n2. Stratified Cox Model\nBy stratifying on CD4 at baseline, the model accounts for its non-proportional effect while allowing the estimation of hazard ratios for other covariates (e.g., treatment, Karnofsky score) within each CD40 stratum.\n\n\n\nSurvival Curves Stratified by CD4 Categories\n\n\nThe survival curves stratified by CD40 categories (Low, Lower-Mid, Upper-Mid, and High) highlight the significant impact of baseline CD40 levels on survival outcomes. Patients in the Low CD40 category (red curve) consistently exhibit the poorest survival probabilities, with a steeper decline in survival over time. In contrast, patients in the High CD40 category (purple curve) have the best survival outcomes, reflecting a protective effect of stronger immune function.\n\nP-values from Schoenfeld Residual Test\n\n\n\nchisq\ndf\nP-Value\n\n\n\n\ntrt\n10.64121\n3\n0.014\n\n\nage\n0.83469\n1\n0.361\n\n\ngender\n0.00647\n1\n0.936\n\n\nkarnof\n0.18116\n1\n0.670\n\n\nstr2\n0.02932\n1\n0.864\n\n\nsymptom\n0.43114\n1\n0.511\n\n\nGLOBAL\n11.86747\n8\n0.157\n\n\n\nThe stratified Cox model confirms that CD40 is a critical prognostic factor for survival. By stratifying on CD40, we address the violation of the proportional hazards assumption for this variable as the global Schoenfeld test for the stratified model shows no significant violations (p = 0.157), enabling us to accurately assess the effects of other covariates (e.g., treatment, Karnofsky score, symptoms) within each CD40 category. These findings emphasize the importance of considering baseline immune status when interpreting survival outcomes and tailoring treatments, as patients with higher CD40 levels consistently achieve better survival probabilities regardless of treatment group.",
    "crumbs": [
      "Survival Analysis"
    ]
  },
  {
    "objectID": "Logistic_model.html",
    "href": "Logistic_model.html",
    "title": "Logistic Regression Model",
    "section": "",
    "text": "This page presents an exploration of survival status outcomes based on the analysis of patient data using Logistic Regression with different feature selection strategies. Dropping less significant features can avoid overfitting and reduce computational complexity and improve model reliability.",
    "crumbs": [
      "Logistic Regression"
    ]
  },
  {
    "objectID": "survival_analysis.html#hazard",
    "href": "survival_analysis.html#hazard",
    "title": "Survival Analysis",
    "section": "Hazard",
    "text": "Hazard\n\nHazard model\n\n\nCode\ncox_model &lt;- coxph(Surv(time, cid) ~ trt, data = data)\n\nsummary(cox_model)\n\n\nCall:\ncoxph(formula = Surv(time, cid) ~ trt, data = data)\n\n  n= 2139, number of events= 521 \n\n        coef exp(coef) se(coef)      z Pr(&gt;|z|)    \ntrt -0.17557   0.83898  0.03984 -4.406 1.05e-05 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n    exp(coef) exp(-coef) lower .95 upper .95\ntrt     0.839      1.192     0.776    0.9071\n\nConcordance= 0.558  (se = 0.013 )\nLikelihood ratio test= 19.58  on 1 df,   p=1e-05\nWald test            = 19.42  on 1 df,   p=1e-05\nScore (logrank) test = 19.58  on 1 df,   p=1e-05\n\n\nWe fit the Cox model with the treatment (trt) variable. The treatment variable has a significant p-value (1.05e-05) and z-value(−4.406), indicating that the treatment has a statistically significant effect on survival\n\n\nCode\n# survival curves for each treatment group\nplot(survfit(cox_model), col = c(\"blue\", \"red\"),\n     xlab = \"Time\", ylab = \"Survival Probability\",\n     main = \"Survival Curves by Treatment\")\nlegend(\"bottomleft\", legend = c(\"Control\", \"Treatment\"),\n       col = c(\"blue\", \"red\"), lty = 1)\n\n\n\n\n\n\n\n\n\nFrom the survival analysis, the “Treatment” group, red line, has slightly better survival probabilities than the “Control” group, blue line, though the difference diminishes over time.",
    "crumbs": [
      "Survival Analysis"
    ]
  },
  {
    "objectID": "survival_analysis.html#read-data",
    "href": "survival_analysis.html#read-data",
    "title": "Survival Analysis",
    "section": "Read data",
    "text": "Read data\n\n\nCode\ndata &lt;- read_csv(\"data/raw-data/aids_clinical_trials_combined.csv\")",
    "crumbs": [
      "Survival Analysis"
    ]
  },
  {
    "objectID": "survival_analysis.html#survival-analysis-of-each-treatment",
    "href": "survival_analysis.html#survival-analysis-of-each-treatment",
    "title": "Survival Analysis",
    "section": "Survival Analysis of Each Treatment",
    "text": "Survival Analysis of Each Treatment\n\n\nCode\nsurv_object &lt;- Surv(time = data$time, event = data$cid)\nkm_fit &lt;- survfit(surv_object ~ trt, data = data)\n\n# Plot Kaplan-Meier survival curves\nggsurvplot(km_fit, data = data, risk.table = TRUE, pval = TRUE, \n           conf.int = TRUE, xlab = \"Time to failure or censoring (days)\", \n           ylab = \"Survival Probability\", ggtheme = theme_minimal())\n\n\n\n\n\n\n\n\n\nThe p-value (p &lt; 0.0001) indicates that there is a statistically significant difference between the survival curves of the different treatment groups. This means that the treatment has a significant effect on survival outcomes. trt=0 perform worst and trt=1 seems perform best compared to others.",
    "crumbs": [
      "Survival Analysis"
    ]
  },
  {
    "objectID": "survival_analysis.html#conclusion",
    "href": "survival_analysis.html#conclusion",
    "title": "Survival Analysis",
    "section": "Conclusion:",
    "text": "Conclusion:\n\nThe treatment significantly reduces the hazard, with a consistent confidence interval supporting its effectiveness.\nFrom the Survival analysis, trt=0 perform worst and trt=1 seems perform best compared to others. Which indicate that, ZDV(Zidovudine) only treatment is the worst and ZDV+ddl (Zidovudine + Didanosine) treatment is the best.",
    "crumbs": [
      "Survival Analysis"
    ]
  },
  {
    "objectID": "project-proposal.html#background",
    "href": "project-proposal.html#background",
    "title": "Project Proposal",
    "section": "Background",
    "text": "Background\nHIV, or human immunodeficiency virus, is a virus that attacks the immune system by targeting white blood cells, making the body more vulnerable to illnesses like tuberculosis, infections, and certain cancers. Without treatment, HIV can progress over time to its most severe stage, AIDS (acquired immunodeficiency syndrome). The virus is transmitted through bodily fluids such as blood, breast milk, semen, and vaginal fluids, and can also be passed from mother to child.1\nThe symptom and signs are as follows:\n\nfever\nheadache\nrash\nsore throat\n\n\n\n\nHIV-Symptom",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "project-proposal.html#questions-to-address",
    "href": "project-proposal.html#questions-to-address",
    "title": "Project Proposal",
    "section": "Questions to address",
    "text": "Questions to address\n\nHow do patient demographics (e.g., age, gender, baseline health status) influence the effectiveness of different treatment methods on survival outcomes?\nWhat clinical features (e.g., CD4 counts, Karnofsky score) significantly impact survival outcomes for patients undergoing different treatments?\n\n\nWhich combination of CD4 counts and Karnofsky scores provides the most accurate prediction of patient outcomes for each treatment method?\n\n\nWhich treatment method would be better?\n\n\nHow do patient demographics (e.g., age, gender, baseline health status) influence the effectiveness of different treatment methods on survival outcomes?\n\n\nWhat are the most important indicators/features that better give the diagnois result?\n\n\nWhat are the most significant clinical factors influencing patient survival when considering CD cell counts and treatment methods?\n\n\nwhat is the best model to predict the diagnosis result?",
    "crumbs": [
      "Home"
    ]
  },
  {
    "objectID": "presentation.html",
    "href": "presentation.html",
    "title": "Project Presentation",
    "section": "",
    "text": "Zhuoyan Guo\nXue Qin\n\nCongfei Yin",
    "crumbs": [
      "Presentation"
    ]
  },
  {
    "objectID": "presentation.html#introduction",
    "href": "presentation.html#introduction",
    "title": "Project Presentation",
    "section": "Introduction",
    "text": "Introduction\n\nBackground\nHIV, or human immunodeficiency virus, is a virus that attacks the immune system by targeting white blood cells, making the body more vulnerable to illnesses like tuberculosis, infections, and certain cancers. Without treatment, HIV can progress over time to its most severe stage, AIDS (acquired immunodeficiency syndrome). The virus is transmitted through bodily fluids such as blood, breast milk, semen, and vaginal fluids, and can also be passed from mother to child.1\nThe symptom and signs are as follows:\n\nfever\nheadache\nrash\nsore throat\n\n\n\n\nHIV-Symptom\n\n\n\n\nData sources\n\nData URL\nIt’s a public dataset contains records of patients who were diagnosis with AIDS.\nThe data contained 2139 intances, include integer and catugoriacal variables\n\n\n\nProject Goal\nThe goal of this project is to predict Aids patient treatment failure (death) or survival (censoring) with a certain window of time by comparing two different treatments and looking at the clinical factors such as patient demographics, treatment indicators, and clinical factors such as CD4 counts and Karnofsky scores.\n\n\nMethods\n\nSurvival Analysis\nLogistic Regression\nLogic Regression\nDecision Tree\n\nMethodology that will be included in this project would be survival analysis and machine learning methods. Kaplan-Meier Estimator and survival curve will help to compare the difference of using two treatments by visualizing probability of survival over time. The prediction models such as Linear Regression, Logistic Regression and Decision Tree will be used to predict the patients’ survival outcome. The evaluation of models will also proceed during the model development.\n\n\nQuestions to address\n\nHow do patient demographics (e.g., age, gender, baseline health status) influence the effectiveness of different treatment methods on survival outcomes?\nWhat clinical features (e.g., CD4 counts, Karnofsky score) significantly impact survival outcomes for patients undergoing different treatments?\n\n\nWhich combination of CD4 counts and Karnofsky scores provides the most accurate prediction of patient outcomes for each treatment method?\n\n\nWhich treatment method would be better?\n\n\nHow do patient demographics (e.g., age, gender, baseline health status) influence the effectiveness of different treatment methods on survival outcomes?\n\n\nWhat are the most important indicators/features that better give the diagnois result?\n\n\nWhat are the most significant clinical factors influencing patient survival when considering CD cell counts and treatment methods?\n\n\nwhat is the best model to predict the diagnosis result?",
    "crumbs": [
      "Presentation"
    ]
  },
  {
    "objectID": "presentation.html#exploratory-analysis",
    "href": "presentation.html#exploratory-analysis",
    "title": "Project Presentation",
    "section": "Exploratory Analysis",
    "text": "Exploratory Analysis\n\nStatistic Summary\n\n\nAverage survival time is around 879.1 days\nThe age of patients range from 12 to 70 years old and the average age is 35.25 years old.\nThe average weight is range from 31 kg to 159.94 kg and the average weight is 75.13kg\n\n\n\nFeature Correlation Heatmap\n\n\nThe warmer color shows the positive correlated relationship\nvariable cd820 (CD8 at 20+/-5 weeks) and cd80 (CD8 at baseline) are highly correlated\ncd420(CD4 at 20+/-5 weeks) and cd40(CD4 at baseline)\n\n\n\nDistribution of Counts of Treatment Group\n\n\nEach treatment group are almost equally distributed\nWould not cause any bias about the final treatment results\n\n\n\nGender proportion by treatment group\n\n\nThe number of male patients are much larger than female patients\nEvery treatment is balanced distributed\n\n\n\nRelationship between CD4 and CD8 counts\n\n\nNo big difference between CD4 and CD8 in each treatment group\nNo clear trend that shows the relationship between CD4 and CD8\n\n\n\nPie Chart for Diagnoisis Outcome distribution\n\n\n\nCorrelation Heatmap of Karnofsky score\n\n\nThe positive correlation between the Karnofsky score and CD4 counts suggests that patients with better functional abilities",
    "crumbs": [
      "Presentation"
    ]
  },
  {
    "objectID": "presentation.html#survival-analysis",
    "href": "presentation.html#survival-analysis",
    "title": "Project Presentation",
    "section": "Survival Analysis",
    "text": "Survival Analysis\nBy applying Survival Analysis, we want to answer the following questions:\n\nWhat are the survival probabilities associated with different treatment methods?\nHow do clinical indicators or demographic factors affect survival outcomes?\n\nWe focus on estimating survival probabilities and comparing different groups using Kaplan-Meier curves and the Cox Proportional Hazards model.\n\nKaplan-Meier\n\nAnalyze Survival Probabilities Across Treatments\n\n\n\n\nKaplan-Meier Curve for All Treatments\n\n\n\ntrt=0 showing a significant worse outcomes compared to the other three treatments indicating by the p-value &lt; 0.0001.\nPatients who toke trt=1, trt=2, and trt=3 shows similar survival curves.\n\n\nFocus on Effective Treatments: Survival Differences in trt=1,2,3\n\n\n\n\nKaplan-Meier Curve for Treatments 1, 2, and 3\n\n\n\nThe survival probabilities across these treatments are nearly indistinguishable according to the p-value = 0.4.\nThis similarity implies that external factors – other than treatments themselves –may play a role in shaping the survival outcomes.\n\n\nExplore Factors That Affect Survival Probabilities Using the Bootstrap Method\n\nGender:\n\nFor trt=0, gender significantly impacts survival probabilities (p-value = 0.024), with female showing higher survival probabilities.\nGender differences are less significant for trt=1, trt=2, and trt=3 (p-values = 0.35, 0.061, and 0.79).\n\n\n\n\nSurvival Curves Stratified by Gender\n\n\nARV History:\n\nARV history means the whether the patient has ever taken the antiretroviral treatments, which is the treatment of HIV/AIDS involves treatment of opportunistic infections, prophylaxis, and antiretroviral (ARV) therapy.\nUsing trt=1, antiretroviral history (naive vs. experienced) does not significantly impact survival outcomes for patients.\nUsing trt=0, trt=2, and trt=3, ARV history has a substantial impact on survival probabilities. Patients with prior ARV treatment show significantly lower survival probabilities compared to naive patients due to the impact of drug resistance.\n\n\n\n\nSurvival Curves Stratified by ARV History\n\n\nSymptom\n\nFor trt=0 and trt=3, the p-values (0.11 and 0.38) indicate no statistically significant difference in survival probabilities between symptomatic and asymptomatic patients.\nFor trt=1, the p-value (0.0039) shows a significant difference, where asymptomatic patients exhibit slightly better survival probabilities compared to symptomatic patients.\n\n\n\n\nSurvival Curves Stratified by Symptom\n\n\nKarnofsky Score\n\nKarnofsky score measures a patient’s functional status on a scale from 0 to 100, with higher scores indicating better physical capability and ability to carry out daily activities.\nThere is no significant difference in survival probabilities for patients using treatment 0, 1, and 3.\nKarnofsky score quartiles significantly impact survival probabilities (p = 0.038), with higher quartiles (Q3 and Q4) associated with improved survival outcomes if patients receiving trt=2.\n\n\n\n\nSurvival Curves Stratified by Karnofsky Quantile\n\n\nCD4 at Baseline\n\nThe CD4 cell count is a critical measure of immune system health, which reflects the number of CD4 T-helper cells in the blood, which are essential for immune function.\nThere is a consistent and significant impact of CD4 quartiles on survival probabilities across all treatment groups: survival probabilities significantly improve with higher CD4 quantiles, saying that immune status is a key determinant of survival outcomes for all groups and patients with higher CD4 consistently demonstrate better survival probabilities.\n\n\n\n\nSurvival Curves Stratified by CD4 Quantile\n\n\n\n\nCox Proportional Hazard Models\n\nThe Kaplan-Meier (KM) curves provide a fundational view of survival probabilities by visualizing unadjusted survival outcomes across different strata.\nThe Cox proportional hazards model is a semi-parametric approach that allows for the simultaneous inclusion of multiple covariates. And it can adjust for confounding factors, ensuring a clearer understanding of each variable’s independent effect on survival.\n\n\nCox Model with Interaction Terms\n\n\n\n\nAdjusted Survival Curves by Treatment",
    "crumbs": [
      "Presentation"
    ]
  },
  {
    "objectID": "presentation.html#logistic-regression",
    "href": "presentation.html#logistic-regression",
    "title": "Project Presentation",
    "section": "Logistic Regression",
    "text": "Logistic Regression\n\nModel Analysis\n\nConfusion matrix\n\n\n\n\nPrediction vs Actual\n0\n1\n\n\n\n\n0\n79\n35\n\n\n1\n26\n115\n\n\n\n\nModel Results\n\nLasso Regression\n\n\n\nMetric\nValue\n\n\n\n\nAccuracy\n77.25%\n\n\nSensitivity\n0.7810\n\n\nSpecificity\n0.7667\n\n\np-value\n4.321e-10\n\n\n\n\n\nFeature Impoartance\nofftrt, cd420, race, hemo, symptom, drugs, gender, cd820, age, strat.",
    "crumbs": [
      "Presentation"
    ]
  },
  {
    "objectID": "presentation.html#decision-tree",
    "href": "presentation.html#decision-tree",
    "title": "Project Presentation",
    "section": "Decision Tree",
    "text": "Decision Tree\n\nModel Analysis\n\nConfusion matrix\n\n\n\nModel Results\n\n\n\n\nMetric\nValue\n\n\n\n\nAccuracy\n72.94%\n\n\nSensitivity\n0.7714\n\n\nSpecificity\n0.7000\n\n\np-value\n1.863e-06\n\n\n\n\n\nFeature Impoartance\ncd420, offtrt, age, preanti, cd40, gender",
    "crumbs": [
      "Presentation"
    ]
  },
  {
    "objectID": "presentation.html#random-forest",
    "href": "presentation.html#random-forest",
    "title": "Project Presentation",
    "section": "Random Forest",
    "text": "Random Forest\n\nModel Analysis\n\nConfusion matrix\n\n\n\n\n\n0\n1\n\n\n\n\n0\n82\n36\n\n\n1\n23\n114\n\n\n\n\nModel Results\n\n\n\n\nMetric\nValue\n\n\n\n\nAccuracy\n76.86%\n\n\nSensitivity\n0.7810\n\n\nSpecificity\n0.7600\n\n\np-value\n0.1182\n\n\n\n\n\nFeature Impoartance\nofftrt, cd420, preanti, age, homo, z30, strat, gender, cd40, cd80",
    "crumbs": [
      "Presentation"
    ]
  },
  {
    "objectID": "presentation.html#conclusion",
    "href": "presentation.html#conclusion",
    "title": "Project Presentation",
    "section": "Conclusion",
    "text": "Conclusion\n\nAnswer to Questions\n\nHow do patient demographics (e.g., age, gender, baseline health status) influence the effectiveness of different treatment methods on survival outcomes?\n\n\nGender\nAntiretroviral History\n\n\nWhat clinical features (e.g., CD4 counts, Karnofsky score) significantly impact survival outcomes for patients undergoing different treatments?\n\n\nSymptom\nKarnofsky Score\nCD4 counts at the baseline\n\n\nWhich treatment method would be better?\n\n\ntrt=0 is the worst while other three treatments don’t have significant difference.\n\nTabel: Model Comparasion\n\n\n\n\n\n\n\n\nModels\nAccuracy Results\nImportant Features\n\n\n\n\nLogistic Regression\n0.7608\n“offtrt” “cd420” “race” “hemo” “symptom” “drugs” “gender” “cd820” “age” “strat”\n\n\nDecision Tree\n0.7294\n“cd420” “offtrt” “age” “preanti” “cd40” “gender”\n\n\nRandom Forest\n0.7686\n“offtrt” “cd420” “preanti” “age” “homo” “z30” “strat” “gender” “cd40” “cd80”\n\n\n\n\nWhat are the most important indicators/features that better give the diagnois result?\n\n\ngender\nage\nofftrt: indicator of off-trt before 96+/-5 weeks (0=no,1=yes)\ncd420: CD4 at 20+/-5 weeks\n\n\nwhat is the best model to predict the diagnosis result?\n\n\nRandom Forest Model has the highest prediction accuracy in predicting the diagnosis result.",
    "crumbs": [
      "Presentation"
    ]
  },
  {
    "objectID": "random_forest.html#initial-random-forest-model",
    "href": "random_forest.html#initial-random-forest-model",
    "title": "Random Forest Model",
    "section": "Initial Random Forest Model",
    "text": "Initial Random Forest Model\nThe first Random Forest Model was built using all variables in the dataset to predict the outcome variable cid. The formula incorporated 22 predictors, including key covariates such as age, treatment group (trt), wtkg (weight), hemo (hemoglobin), karnof (Karnofsky score), cd40 (immune status), and other clinical and demographic factors.\nThe model was trained on the train_data subset with the following specifications:\n\nNumber of Trees (ntree): 500 decision trees were grown to ensure a robust ensemble model.\nNumber of Variables Tried at Each Split (mtry): 3 variables were randomly selected at each split to balance accuracy and computational efficiency.\n\n\nThe model achieved an Out-of-Bag error rate of 25%, which measures the model’s performance on unseen data during training. The confusion matrix provides further insight into the model’s predictive accuracy:\n\nConfusion Matrix of Initial Random Forest Model\n\n\n\n0\n1\n\n\n\n\n0\n193\n79\n\n\n1\n70\n254\n\n\n\nFor class 0, 193 instances were correctly predicted, with a class error of 29%. For class 1, 254 instances were correctly predicted, with a class error of 21.6%.\nThis initial model was evaluated on the test dataset, and the results are summarized in the confusion matrix and associated performance metrics. The model achieved an accuracy of 75.29%, with a 95% confidence interval of (69.53%, 80.46%). This indicates that the model correctly classified approximately three-quarters of the test observations.\n\nConfusion Matrix of Initial Random Forest Model on Test Dataset\n\n\n\n0\n1\n\n\n\n\n0\n78\n36\n\n\n1\n27\n114\n\n\n\nThe sensitivity of 74.29% shows that the model correctly identified 74.29% of instances belonging to class 0 (true positives). And the specificity of 76.00% reflects the model’s ability to correctly identify 76.00% of instances belonging to class 1 (true negatives).\n\nInitial Random Forest Model Result\n\n\nMetric\nValue\n\n\n\n\nAccuracy\n0.7529\n\n\nSensitivity\n0.7429\n\n\nSpecificity\n0.7600\n\n\np-value\n0.3135\n\n\n\nA p-value &gt; 0.05, as in this case (0.3135), indicates that the difference in the error rates between class 0 and class 1 is not statistically significant. This means the model’s errors are balanced across the two classes, suggesting no bias in misclassification toward one class over the other. The result supports that the Random Forest model is performing fairly consistently across both classes, with no significant bias in its predictions. However, the balanced accuracy metric (75.14%) can still be improved by further refining the model.",
    "crumbs": [
      "Random Forest"
    ]
  },
  {
    "objectID": "random_forest.html#feature-selection-and-model-training-with-cross-validation",
    "href": "random_forest.html#feature-selection-and-model-training-with-cross-validation",
    "title": "Random Forest Model",
    "section": "Feature Selection and Model Training with Cross-Validation",
    "text": "Feature Selection and Model Training with Cross-Validation\n\nStep 1: Extract Feature Importance\nIn this process, we leverage feature importance analysis, feature selection, and cross-validation to build and evaluate an optimized Random Forest model.\n\nTo improve the model’s performance and interpretability, we identify the most important features that contribute to the prediction using importance(rf_model). This function calculates feature importance metrics for the trained Random Forest model. Features with higher values are more critical for the model’s predictive power in the MeanDecreaseAccuracy while Higher values indicate greater importance in separating the classes in MeanDecreaseGini. And by using function varImpPlot(rf_model), we can visualizes feature importance based on the above metrics, helping identify the most influential predictors. Features at the top of the plot have the greatest impact on the model.\n\n\nStep 2: Train Random Forest with Cross-Validation Cross-Validation\nTo avoid overfitting and validate the model effectively, cross-validation is applied using the caret package.\nBy using 10-Fold Cross-Validation, the data is split into 10 subsets (folds), and the model is trained on 9 folds while the 10th is used for validation. This process repeats for all folds.\n\n\n\nmtry\nAccuracy\nKappa\n\n\n\n\n2\n0.7884371\n0.5725548\n\n\n3\n0.8086075\n0.6140662\n\n\n4\n0.8187196\n0.6346514\n\n\n\nBesides, the mtry parameter (number of variables considered at each split) is tuned by testing values 2, 3, and 4. And the train function identifies the optimal mtry based on cross-validation accuracy which is mtry=4 being used on the final model.\n\nConfusion Matrix of Tuned Random Forest Model on Test Dataset\n\n\n\n0\n1\n\n\n\n\n0\n82\n36\n\n\n1\n23\n114\n\n\n\nAfter training the Random Forest model with cross-validation and selecting the optimal number of variables at each split (mtry = 4), the model was evaluated on the test dataset. The model achieved an accuracy of 76.86%, with a 95% confidence interval of (71.19%, 81.90%). This indicates that approximately 77% of the predictions were correct.The model correctly identified 78.10% of instances belonging to class 0 and correctly identified 76.00% of instances belonging to class 1.\n\nTuned Random Forest Model Result\n\n\nMetric\nValue\n\n\n\n\nAccuracy\n0.7686\n\n\nSensitivity\n0.7810\n\n\nSpecificity\n0.7600\n\n\np-value\n0.1182\n\n\n\nIn conclusion, the Random Forest model performed well on unseen data, achieving high accuracy and balanced performance across both classes. The sensitivity and specificity metrics suggest that the model effectively identifies both outcomes, with slightly better performance for class 0. Although some misclassifications remain, the results indicate that the model is robust and suitable for predicting the target variable (cid).",
    "crumbs": [
      "Random Forest"
    ]
  },
  {
    "objectID": "Logistic_model.html#data-preparation",
    "href": "Logistic_model.html#data-preparation",
    "title": "Logistic Regression Model",
    "section": "Data Preparation",
    "text": "Data Preparation\nThe dataset we are using in this analysis are the filtered and scaled version of the original dataset, we first scaled all continues variables, and then filtered all observation with time larger than 950 to prevent issues of the unbalance dataset will bring to the prediction model.\n At time = 950, we have a similar sizes of patients with Cid=0 and Cid = 1. The original dataset has 2139 observations, 24 variables, and the modifed data has 851 observation.\nOriginal Dataset:\n\n\n\nDataset\nCid= 0\nCid= 1\n\n\n\n\nOriginal Dataset\n1627\n521\n\n\nModified Dataset\n377\n474",
    "crumbs": [
      "Logistic Regression"
    ]
  },
  {
    "objectID": "Logistic_model.html#initial-model-and-performance",
    "href": "Logistic_model.html#initial-model-and-performance",
    "title": "Logistic Regression Model",
    "section": "Initial Model and Performance",
    "text": "Initial Model and Performance\nThe initial logistic regression model used all 22 features and target variable cid, which is the status of patients. We split the dataset into training and testing sets with 7:3 ratio.\nThis model achieved an accuracy of 75.29% with 95% CI (0.6953, 0.8046) on the test set and demonstrated strong discriminatory ability, significant predictors identified in the model included age, hemoglobin levels hemo, drug use drugs, and pre-antiretroviral treatment status preanti, among others.\n The Initial mode has an AUC value of 0.845.\n\nfit with selected features with P&lt;0.05\nWe choose features with p&lt;0.05 and used them on the refine model. The refined model has an accuracy of 74.51%, with 95% CI : (0.687, 0.7974), lower than the original model, thus we reject this model.",
    "crumbs": [
      "Logistic Regression"
    ]
  },
  {
    "objectID": "Logistic_model.html#lasso-regression",
    "href": "Logistic_model.html#lasso-regression",
    "title": "Logistic Regression Model",
    "section": "Lasso Regression",
    "text": "Lasso Regression\nWe employed the Lasso regression to enhance feature selection and improve model interpretability.\nThe Lasso regression applies L1 penalty, set less relevant features with a coefficient of 0. Using cross-validation, the optimal penalty parameter (lambda) was determined to be the value that minimized the cross-validated error. The features we choosed using lasso regression are offtrt, cd420, race, hemo, symptom, drugs, gender, cd820, age, strat.\nThe model has an accuracy of 77.25% with 95% CI : (0.7161, 0.8225), and AUC value of 0.8523. \nThe Lasso model has a better performance than the initial logistic regression model with better discriminative power.",
    "crumbs": [
      "Logistic Regression"
    ]
  },
  {
    "objectID": "Logistic_model.html#backward-selection",
    "href": "Logistic_model.html#backward-selection",
    "title": "Logistic Regression Model",
    "section": "Backward Selection",
    "text": "Backward Selection\nWe then apply backward selection for feature selection starting from the full model. The process will drop features with the highest p-values and retain only statistically significant predictors. The features we kept are: age, hemo,drugs, preanti, race, gender, symptom, offtrt, cd420, cd820.\nThe model after using these features has a accuracy of 76.08% with 95% CI : (0.7036, 0.8118).  The model also has an AUC value of 0.8465.\nBackward selection give as a better performance than the full model, but not better than the model using lasso regression.",
    "crumbs": [
      "Logistic Regression"
    ]
  },
  {
    "objectID": "Logistic_model.html#conclusion",
    "href": "Logistic_model.html#conclusion",
    "title": "Logistic Regression Model",
    "section": "Conclusion",
    "text": "Conclusion\n In Logistic Regression section, we find that the model using Lasso Regression has the best performance as it achieved the highest accuracy (77.25%) and the AUC value (0.8523) among all 3 models.\n\n\n\nPredictor\nCoefficient\np-value\n\n\n\n\n(Intercept)\n0.4732\n0.258060\n\n\nofftrt\n-2.1913\n&lt; 2e-16\n\n\ncd420\n-1.2377\n&lt; 2e-16\n\n\nrace\n-0.8098\n0.000732\n\n\nhemo\n-0.8014\n0.042248 *\n\n\nsymptom\n0.4734\n0.088398 .\n\n\ndrugs\n-0.5833\n0.051795 .\n\n\ngender\n0.4414\n0.131602\n\n\ncd820\n0.3972\n0.000623 **\n\n\nage\n0.3259\n0.004113 **\n\n\nstrat\n0.3658\n0.004475 **\n\n\n\nofftrt and cd420 are strong predictors of survival, showing a negative impact when their respective conditions worsen. age and cd820 show positive associations with survival, highlighting potential protective effects or favorable prognostic indicators. These insights could inform clinical interventions by emphasizing the need to prioritize treatment adherence and monitor biomarkers like cd420 and cd820.\nThe Lasso has a confusion matrix of this:\n\n\n\nPrediction\nActual\n0\n1\n\n\n\n\n0\n\n79\n35\n\n\n1\n\n26\n115\n\n\n\nThe lasso regression balanced the predictive power and feature selection through regularization. while backward selection giving a slightly less complex model with similar accuracy and AUC. The confusion matrix also validate the accuracy was not affected by the high ratio between cid=1 and cid =0 as we filterd the data ealier.",
    "crumbs": [
      "Logistic Regression"
    ]
  }
]