{
  "hash": "3e27f324902c2f2b4b05b191f267eb0b",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Survival Analysis\"\nsubtitle: \"Group #6\"\nformat:\n  html:\n    embed-resources: true\n    code-fold: true\n    warning: false\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(readr)\nlibrary(dplyr)\nlibrary(survival)\nlibrary(ggplot2)\nlibrary(survminer)\n```\n:::\n\n\n## Read data\n\n::: {.cell}\n\n```{.r .cell-code}\ndata <- read_csv(\"data/raw-data/aids_clinical_trials_combined.csv\")\n```\n:::\n\n\n\n## Survival Analysis of Each Treatment\n\n::: {.cell}\n\n```{.r .cell-code}\nsurv_object <- Surv(time = data$time, event = data$cid)\nkm_fit <- survfit(surv_object ~ trt, data = data)\n\n# Plot Kaplan-Meier survival curves\nggsurvplot(km_fit, data = data, risk.table = TRUE, pval = TRUE, \n           conf.int = TRUE, xlab = \"Time to failure or censoring (days)\", \n           ylab = \"Survival Probability\", ggtheme = theme_minimal())\n```\n\n::: {.cell-output-display}\n![](survival_analysis_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\nThe p-value (p < 0.0001) indicates that there is a statistically significant difference between the survival curves of the different treatment groups. This means that the treatment has a significant effect on survival outcomes.\ntrt=0 perform worst and trt=1 seems perform best compared to others.\n\n\n\n\n## Hazard\n\n### Hazard model\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncox_model <- coxph(Surv(time, cid) ~ trt, data = data)\n\nsummary(cox_model)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nCall:\ncoxph(formula = Surv(time, cid) ~ trt, data = data)\n\n  n= 2139, number of events= 521 \n\n        coef exp(coef) se(coef)      z Pr(>|z|)    \ntrt -0.17557   0.83898  0.03984 -4.406 1.05e-05 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\n    exp(coef) exp(-coef) lower .95 upper .95\ntrt     0.839      1.192     0.776    0.9071\n\nConcordance= 0.558  (se = 0.013 )\nLikelihood ratio test= 19.58  on 1 df,   p=1e-05\nWald test            = 19.42  on 1 df,   p=1e-05\nScore (logrank) test = 19.58  on 1 df,   p=1e-05\n```\n\n\n:::\n:::\n\n\nWe fit the Cox model with the treatment (trt) variable. The treatment variable has a significant p-value (1.05e-05) and z-value(âˆ’4.406), indicating that the treatment has a statistically significant effect on survival\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# survival curves for each treatment group\nplot(survfit(cox_model), col = c(\"blue\", \"red\"),\n     xlab = \"Time\", ylab = \"Survival Probability\",\n     main = \"Survival Curves by Treatment\")\nlegend(\"bottomleft\", legend = c(\"Control\", \"Treatment\"),\n       col = c(\"blue\", \"red\"), lty = 1)\n```\n\n::: {.cell-output-display}\n![](survival_analysis_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nFrom the survival analysis, the \"Treatment\" group, red line, has slightly better survival probabilities than the \"Control\" group, blue line, though the difference diminishes over time.\n\n\n## Conclusion:\n\n* The treatment significantly reduces the hazard, with a consistent confidence interval supporting its effectiveness.\n\n* From the Survival analysis, trt=0 perform worst and trt=1 seems perform best compared to others. Which indicate that, ZDV(Zidovudine) only treatment is the worst and ZDV+ddl (Zidovudine + Didanosine) treatment is the best.",
    "supporting": [
      "survival_analysis_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}